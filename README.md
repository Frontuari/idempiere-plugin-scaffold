# iDempiere Plugin Generator

This project creates an iDempiere plugin skeleton.

- Plugin example [com.ingeint.template](com.ingeint.template).

- Target platform example https://bitbucket.org/ingeint/ingeint-idempiere-target-platform/

## Getting Start

Create a new plugin with the command `make`.

## Standard New Plugin

- New callout
    * Name: C{callout name}
    * Package: {package root}.callout
    * Example: com.ingeint.callout.CStringFormat
    
- New process
    * Name: P{process name}
    * Package: {package root}.process
    * Example: com.ingeint.process.PGenerateWithholding
    
- New form
    * Name: F{form name}
    * Package: {package root}.form
    * Example: com.ingeint.form.FMultiPayment
    
- New event
    * Name: E{event name}
    * Package: {package root}.event
    * Example: com.ingeint.event.EAfterCompleteInvoice
    
- New model (extends class X)
    * Name: M{table name without prefix}. 
    * Package: {package root}.model
    * Example: com.ingeint.model.X_IGI_TableExample -> com.ingeint.model.MTableExample
    
## Folder estructure

```
    Plugin Template
        |_.settings
        |   |_org.eclipse.core.resources.prefs
        |   |_org.eclipse.jdt.core.prefs
        |   |_org.eclipse.m2e.core.prefs
        |   |_org.eclipse.pde.core.prefs
        |_.classpath
        |_.project
        |_.hgignore
        |_.gitignore
        |_build.properties
        |_LINCENSE
        |_README.md
        |_META-INF
        |   |_MANIFEST.MF
        |   |_2Pack_X.X.X.zip
        |_OSGI-INF
        |   |_CalloutFactory.xml
        |   |_EventManager.xml
        |   |_FormFactory.xml
        |   |_ModelFactory.xml
        |   |_ProcessFactory.xml
        |_src
            |_{root package}
                |_base (plugin core)
                |   |_BundleInfo.java (gets plugin information dynamically)
                |   |_CustomCalloutFactory.java (IColumnCalloutFactory implementation)
                |   |_CustomEventManager.java (AbstractEventHandler implementation)
                |   |_CustomFormFactory.java (IFormFactory implementation)
                |   |_CustomModelFactory.java (IModelFactory implementation)
                |   |_CustomProcessFactory.java (IProcessFactory implementation)
                |   |_CustomCallout.java (IColumnCallout implementation)
                |   |_CustomEventHandler.java (for event implementation)
                |   |_CustomFormController.java (IFormController implementation)
                |   |_CustomProcess.java (SvrProcess implementation)
                |_component (pugin components)
                |   |_CalloutFactory.java (register class callout)
                |   |_EventManager.java (register class event handler)
                |   |_FormFactory.java (register class form)
                |   |_ProcessFactory.java (register class process)
                |   |_ModelFactory.java (register class model)
                |_callout (new callouts, extends CustomCallout)
                |_event (new events, extends CustomEventHandler)
                |_form (new forms, extends CustomFormController)
                |_process (new processes, extends CustomProcess)
                |_model (autogenerated models)
        
```
 
## Documentation

- New callout
    * Create callout in package `callout`, extends from `CustomCallout`
    * Register callout in `component.CalloutFactory`. Example:

```java
    protected void initialize() {
        registerCallout(MTableExample.Table_Name, MTableExample.COLUMNNAME_Text, CPrintPluginInfo.class);
    }
```

- New process
    * Create process in package `process`, extends from `CustomProcess`
    * Register process in `component.ProcessFactory`. Example:

```java
    protected void initialize() {
        registerProcess(PPrintPluginInfo.class);
    }
```

- New form
    * Create form in package `form`, extends from `CustomFormController`
    * Register form in `component.FormFactory`. Example:

```java
    protected void initialize() {
        registerForm(FPrintPluginInfo.class);
    }
```

- New event
    * Create event in package `event`, extends from `CustomEventHandler`
    * Register event in `component.EventManager`. Example:

```java
    protected void initialize() {
        registerTableEvent(IEventTopics.DOC_BEFORE_COMPLETE, MTableExample.Table_Name, EPrintPluginInfo.class);
    }
```

- New model (extends form class X)
    * Create model in package `model`, extends class `X`. Example: `model.X_TL_TableExample -> model.MTableExample`
    * Register model in `component.ModelFactory`. Example:

```java
    protected void initialize() {
        registerTableModel(MTableExample.Table_Name, MTableExample.class);
    }
```
